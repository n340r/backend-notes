### Разделить папки, файлы бэк / node / golang

---

### Дописать важные вопросы с собесов красавчика

---

### Выписать про антифрод, безопасность.

---

### Выписать про пирамиду тестирования: юнит, интеграционные, e2e, нагрузочные, смоук (вроде уже есть чась)

**Интеграционные:**

Запускается все это на ci/cd
Типовой сценарий

- поднимается PostgreSQL (Docker)
- накатываются миграции
- стартует тестируемый сервис

тест:

- пишет данные
- читает данные
- проверяет бизнес-логику

пример:

- создали что-то
- транзакция комитится
- rollback обратно - все ок

**Нагрузочные:**

Как это делается

- поднимается тестовый стенд
- k6 генерирует нагрузку

смотрят:

- latency (p95/p99)
- error rate
- saturation (CPU, memory, DB)

Как понять, что нашли узкое место

- latency растёт нелинейно
- ошибки после N RPS
- БД упирается в: connections, locks, IO

### про бд

- Bloat — индекс стал слишком большим
- Fragmentation — индекс стал менее плотным и менее эффективным
  (причина - массовые UPDATE / DELETE. лечение - REINDEX)

### Просмотри пж мой проект есть ли вот эти темы/вопросы в каких-либо файлах собеседований и в конспекте

• Колоночные бд: ClickHouse. В чем их суть, оптимизированы для чтения или записи ? Как правильно в них записывать ?

• Пример миграции у гпт. У миграции есть 1_migration.up.sql - сама миграция, 1_migration.down.sql - чтобы ее откатить

• Что такое foreign_key ? Ссылаться можно на любое поле или только primary ? Какие правила ?

• Replication - read replicas, Sharding - размазываешь данные по РАЗНЫМ БД: юзеры 0-100, 101-200 ..., Partitioning - размазываешь данные ПО РАЗНЫМ ТАБЛИЦАМ внутри одной бд - заказы 0-100, 101-200, ...

- примеры запросов в монге и что они делают просто чтоб ты мог вспомнить или быстро напромприть, я пока не успел у себя выписать да тебе гпт расскажет:
  `$in, $all, $elemMatch, projection, drop, set, deleteMany` - примеры этого

• Дэдлок своими руками - пример с изменением баланса когда транзакции лзут друг к другу. Что напишет БД в случае дэдлока.  
Вроде есть но хоется конкретнее

• почему часто команды не любят триггеры - какие с ними проблемы

• четко проблема N+1 запросов, почему возникает в ORM иногда, как избежать ее если мы сами пишем SQL

• Допустим мы пишем пагинацию, пользователь запрашивает 10 карточке с 10_000-й страницы. Почему в таком случае ... OFFSET 10 - плохо ? Как сделать так чтобы мы не читали 10_1000 страниц для 10 карточек ?

• Разница между sparse и partial index?

• Что будет, если упадет primary в MongoDB?
